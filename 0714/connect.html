<!DOCTYPE html>
<html>
<head>
    <title>链路拓扑</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <script src="js/echarts.js"></script>
    <link href="css/bootstrap.css" rel='stylesheet' type='text/css'/>
    <link href="css/style.css" rel='stylesheet' type='text/css'/>
    <script src="js/jquery-1.11.0.min.js"></script>
    <script src="js/echarts.min.js"></script>
</head>
<body style="background-color: rgba(234,255,208,1) ;width:100%;height:100%;background-repeat:no-repeat;background-attachment:fixed;background-size:100% 100%; ">

<!--顶部导航栏-->
<div id="home">
    <div class="header">
        <div class="header-left" style=" width: 260px;position: relative;left: -20px">
            <span style="color: rgba(254,185,0,1);font-size: 35px;float: left;font-weight: bolder;font-family: 'Cabin', sans-serif;">多模态目标识别</span>
        </div>
        <img src="images/cgq1.png"
             style="line-height: 70px;width: 70px;text-align: center;float: left;position: absolute;top: -5px;left: 280px">
        <img src="images/cgq2.png"
             style="line-height: 70px;width: 70px;text-align: center;position: absolute;top: -5px;left: 350px">
        <img src="images/cgq3.png"
             style="line-height: 70px;width: 70px;height:auto;text-align: center;position: absolute;top: -5px;left: 420px">
        <img src="images/cgq4.png"
             style="line-height: 70px;width: 60px;height:auto;text-align: center;position: absolute;top: 0px;left: 490px">
        <img src="images/cgq5.png"
             style="line-height: 70px;width: 50px;height:auto;text-align: center;position: absolute;top: 5px;left: 550px">
        <div class="clearfix"></div>
    </div>
</div>
<!--中间内容-->
<!--侧边栏-->
<div class="left" style="float:left;width: 3%">
    <a href="index.html" class="active leftA">
        <img src="images/home.png">
    </a><br>
    <a style="position: absolute;bottom: 70px;left: 5px" href="connect.html" class="leftA">
        <img src="images/connect.png">
    </a>
</div>
<!--    传感器节点-->
<div class="how" style="float: left;height: 700px;width: 60%">
    <div style="float:left;height:100%;width:100%;border: 2px dashed #ccc;padding: 20px">
        <div style="height: 70%;width: 10%;float:left;">
            <div id="node" style="height: 100%;width: 100%">
            </div>
            <span>已接入的传感器节点</span>
        </div>
        <!--    基站通信-->
        <div style="height: 100%;width:90%;float: left;padding-left: 90px;padding-top: 70px">
            <div>
                <div class="connectLine" style="float: left;border: 2px dashed #dfdfdf">
                    <img id="jz1" onclick="choose(id)" class="jizhan" src="images/greenjizhan.png" style="filter:opacity(50%)">
                    <img id="jz2" onclick="choose(id)" class="jizhan" src="images/bluejizhan.png" style="filter:opacity(50%)">
                    <img id="jz3" onclick="choose(id)" class="jizhan" src="images/yellowjizhan.png" style="filter:opacity(50%)">
                </div>
                <div class="connectLine" style="float: left;height: 100%;width: 150px">
                    <div style="float: left;width: 180px;">
                        <div>
                            <img id="xx11" class="xuxian" src="images/blackxuxian.png" style="filter:opacity(50%)">
                            <img id="xx12" class="xuxian" src="images/blackxuxian.png" style="filter:opacity(50%)">
                        </div>
                        <div>
                            <!--                            <span style="position: relative;top: -5px;left: 55px;display: inline-block;vertical-align: top;">20 Mbps</span>-->
                            <span style="position: relative;top: 25px;left:60px;display: inline-block;vertical-align: top;">Lora</span>
                        </div>
                    </div>
                    <div style="float: left;position: relative;top: 60px">
                        <div style="float: left;width: 180px">
                            <img id="xx21" class="xuxian" src="images/bluexuxian.png " style="filter:opacity(50%)">
                            <img id="xx22" class="xuxian" src="images/bluexuxian.png" style="filter:opacity(50%)">
                        </div>
                        <div>
                            <!--                            <span style="position: relative;top: -5px;left: 55px;display: inline-block;vertical-align: top;">100 Mbps</span>-->
                            <span style="position: relative;top: 25px;left:55px;display: inline-block;vertical-align: top;">Zigbee</span>
                        </div>
                    </div>
                    <div style="float: left;position: relative;top: 100px">
                        <div style="float: left;width: 180px">
                            <img id="xx31"class="xuxian" src="images/yellowxuxian.png" style="filter:opacity(50%)">
                            <img id="xx32"class="xuxian" src="images/yellowxuxian.png" style="filter:opacity(50%)">
                        </div>
                        <div>
                            <!--                            <span style="position: relative;top: -5px;left: 55px;display: inline-block;vertical-align: top;">2 Mbps</span>-->
                            <span style="position: relative;top: 25px;left:60px;display: inline-block;vertical-align: top;">BLE</span>
                        </div>
                    </div>
                </div>
                <div class="connectLine" style="float: left;border: 2px dashed #dfdfdf">
                    <img id="jz11" class="jizhan" src="images/greenjizhan.png" style="filter:opacity(50%)">
                    <img id="jz21"class="jizhan" src="images/bluejizhan.png" style="filter:opacity(50%)">
                    <img id="jz31"class="jizhan" src="images/yellowjizhan.png" style="filter:opacity(50%)">
                </div>
                <div style="float: left;position: relative;top: 200px;left: 10px">
                    <img id="mainxx" class="xuxian" src="images/blackxuxian.png" style="filter:opacity(50%)">
                </div>
                <div style="float: left;position: relative;top: 210px;left: 50px">
                    <img class="computer" src="images/computer.PNG">
                </div>
            </div>
        </div>
    </div>
</div>
<!--    右侧原始数据-->
<div class="how" style="width: 37%;height: 700px;float: left">
    <div style="-webkit-flex-direction: column;flex-direction: column;height: 100%;width:100%;border-left: #666666 7px solid;border-right: #666666 7px solid">
        <!--        图片展示-->
        <div id="pic" style="align-items:center;width: 100%;height: 50%;flex-direction: column">
            <div style="text-align: center;width: 100%;background-color: rgba(255,238,173,1);height: 10%">
                <h3 style="color: #333333">图像识别可视化</h3>
            </div>
            <div style="height: 90%;width: 100%">
                <img style="padding: 10px" src="images/realTank.jpg">
            </div>
        </div>
        <!--        声音展示-->
        <div id="ssound" style="align-items:center;height: 50%;width: 100%">
            <div style="text-align: center;width: 100%;background-color: rgba(255,238,173,1);height: 10%">
                <h3 style="color: #333333">声音识别可视化</h3>
            </div>
            <div id="sound" style="height: 85%;width: 100%"></div>
        </div>
        <!--        震动展示-->
        <div id="wave" style="align-items:center;height: 50%;width: 100%;">
            <div style="text-align: center;width: 100%;background-color: rgba(255,238,173,1);height: 10%">
                <h3 style="color: #333333">震动识别可视化</h3>
            </div>
            <div id="shock" style="height: 90%;width: 100%"></div>
        </div>
        <!--        超声展示-->
        <div id="ultrasonic" style="align-items:center;height: 50%;width: 100%;display: none">
            <div style="text-align: center;width: 100%;background-color: rgba(255,238,173,1);height: 10%">
                <h3 style="color: #333333">超声识别可视化</h3>
            </div>
            <marquee direction="up">

            </marquee>
        </div>
    </div>
</div>
<!--底部导航栏-->
<div id="footer"
     style="background-color:#ffd900;clear:both; font-size: 40px; text-align:center;">
    <img style="width: auto;height: 45px;" src="images/littlebeiyou.png">多模态传感器协同的目标智能监测系统
</div>
<script>
    function choose(e) {
        document.getElementById('mainxx').style.filter="opacity(100%)"
        switch (e){
            case 'jz1':{
                document.getElementById('jz1').style.filter="opacity(100%)"
                document.getElementById('jz11').style.filter="opacity(100%)"
                document.getElementById('jz2').style.filter="opacity(50%)"
                document.getElementById('jz31').style.filter="opacity(50%)"
                document.getElementById('jz3').style.filter="opacity(50%)"
                document.getElementById('jz21').style.filter="opacity(50%)"
                document.getElementById('xx11').style.filter="opacity(100%)"
                document.getElementById('xx12').style.filter="opacity(100%)"
                document.getElementById('xx22').style.filter="opacity(50%)"
                document.getElementById('xx21').style.filter="opacity(50%)"
                document.getElementById('xx32').style.filter="opacity(50%)"
                document.getElementById('xx31').style.filter="opacity(50%)"
                document.getElementById('xx11').classList.add('shan')
                document.getElementById('xx12').classList.add('shan')
                document.getElementById('xx21').classList.remove('shan')
                document.getElementById('xx22').classList.remove('shan')
                document.getElementById('xx31').classList.remove('shan')
                document.getElementById('xx32').classList.remove('shan')
                break
            }
            case 'jz2':{
                document.getElementById('jz2').style.filter="opacity(100%)"
                document.getElementById('jz21').style.filter="opacity(100%)"
                document.getElementById('jz1').style.filter="opacity(50%)"
                document.getElementById('jz31').style.filter="opacity(50%)"
                document.getElementById('jz3').style.filter="opacity(50%)"
                document.getElementById('jz11').style.filter="opacity(50%)"
                document.getElementById('xx21').style.filter="opacity(100%)"
                document.getElementById('xx22').style.filter="opacity(100%)"
                document.getElementById('xx12').style.filter="opacity(50%)"
                document.getElementById('xx11').style.filter="opacity(50%)"
                document.getElementById('xx32').style.filter="opacity(50%)"
                document.getElementById('xx31').style.filter="opacity(50%)"
                document.getElementById('xx21').classList.add('shan')
                document.getElementById('xx22').classList.add('shan')
                document.getElementById('xx11').classList.remove('shan')
                document.getElementById('xx12').classList.remove('shan')
                document.getElementById('xx31').classList.remove('shan')
                document.getElementById('xx32').classList.remove('shan')
                break
            }
            case 'jz3':{
                document.getElementById('jz3').style.filter="opacity(100%)"
                document.getElementById('jz31').style.filter="opacity(100%)"
                document.getElementById('jz1').style.filter="opacity(50%)"
                document.getElementById('jz2').style.filter="opacity(50%)"
                document.getElementById('jz11').style.filter="opacity(50%)"
                document.getElementById('jz21').style.filter="opacity(50%)"
                document.getElementById('xx21').style.filter="opacity(50%)"
                document.getElementById('xx22').style.filter="opacity(50%)"
                document.getElementById('xx12').style.filter="opacity(50%)"
                document.getElementById('xx11').style.filter="opacity(50%)"
                document.getElementById('xx32').style.filter="opacity(100%)"
                document.getElementById('xx31').style.filter="opacity(100%)"
                document.getElementById('xx31').classList.add('shan')
                document.getElementById('xx32').classList.add('shan')
                document.getElementById('xx21').classList.remove('shan')
                document.getElementById('xx22').classList.remove('shan')
                document.getElementById('xx11').classList.remove('shan')
                document.getElementById('xx12').classList.remove('shan')
                break
            }
            default:{
                document.getElementById('jz3').style.filter="opacity(50%)"
                document.getElementById('jz31').style.filter="opacity(50%)"
                document.getElementById('jz1').style.filter="opacity(50%)"
                document.getElementById('jz1').style.filter="opacity(50%)"
                document.getElementById('jz11').style.filter="opacity(50%)"
                document.getElementById('jz11').style.filter="opacity(50%)"
                document.getElementById('xx21').style.filter="opacity(50%)"
                document.getElementById('xx22').style.filter="opacity(50%)"
                document.getElementById('xx12').style.filter="opacity(50%)"
                document.getElementById('xx11').style.filter="opacity(50%)"
                document.getElementById('xx32').style.filter="opacity(50%)"
                document.getElementById('xx31').style.filter="opacity(50%)"
                document.getElementById('xx31').classList.remove('shan')
                document.getElementById('xx32').classList.remove('shan')
                document.getElementById('xx21').classList.remove('shan')
                document.getElementById('xx22').classList.remove('shan')
                document.getElementById('xx11').classList.remove('shan')
                document.getElementById('xx12').classList.remove('shan')
                break
            }
        }
    }
</script>
<!--footer-->
<script type="text/javascript">
    var dom = document.getElementById('node');
    var myChart = echarts.init(dom, null, {
        renderer: 'canvas',
        useDirtyRect: false
    });

    myChart.on('click', 'series',
        function (e) {
            console.log(e.data.name)
            let point_name = e.data.name;
            switch (point_name) {
                case '节点1': {
                    console.log(document.getElementById("pic").style.display)
                    document.getElementById("pic").style.display = 'block'
                    document.getElementById('ssound').style.display = 'block'
                    document.getElementById('wave').style.display = 'none'
                    document.getElementById('ultrasonic').style.display = 'none'
                    console.log(document.getElementById("pic").style.display)
                    break;
                }
                case '节点2': {
                    document.getElementById("pic").style.display = 'none'
                    document.getElementById('ssound').style.display = 'block'
                    document.getElementById('wave').style.display = 'block'
                    document.getElementById('ultrasonic').style.display = 'none'
                    break;
                }
                case '节点3': {
                    document.getElementById("pic").style.display = 'none'
                    document.getElementById('ssound').style.display = 'none'
                    document.getElementById('wave').style.display = 'none'
                    document.getElementById('ultrasonic').style.display = 'block'
                    break;
                }
                default: {
                    document.getElementById("pic").style.display = 'none'
                    document.getElementById('ssound').style.display = 'none'
                    document.getElementById('wave').style.display = 'none'
                    document.getElementById('ultrasonic').style.display = 'none'
                    break;
                }
            }

        }
    )
    var app = {};

    var option;

    option = {
        tooltip: {},
        animationDurationUpdate: 1500,
        animationEasingUpdate: 'quinticInOut',
        series: [
            {
                type: 'graph',
                layout: 'none',
                symbolSize: 50,
                roam: false,
                label: {
                    show: true
                },
                edgeSymbol: ['circle'],
                edgeSymbolSize: [4, 10],
                edgeLabel: {
                    fontSize: 20
                },
                data: [
                    {
                        name: '节点1',
                        id: 0,
                        x: 100,
                        y: 100
                    },
                    {
                        name: '节点2',
                        id: 1,
                        x: 100,
                        y: 300
                    },
                    {
                        name: '节点3',
                        id: 2,
                        x: 100,
                        y: 500
                    }
                ],
                // links: [],
                links: [
                    {
                        source: 0,
                        target: 1
                    },
                    {
                        source: 1,
                        target: 2
                    }
                ],
                lineStyle: {
                    width: 2,
                    cap: "round",
                }
            }
        ]
    };

    if (option && typeof option === 'object') {
        myChart.setOption(option);
    }
    setTimeout(deletenode(2), 3000)
    setTimeout(addnode, 3000)

    function deletenode(j) {
        option = myChart.getOption()
        let data = option.series[0].data //获取节点数据
        let link = option.series[0].links //获取边的数据
        let flag = -1
        for (let i = 0; i < data.length; i++) {//假设删除id为1的节点
            if (data[i].id === j) {
                data.splice(i, 1)
                link.splice(i - 1, 1)
                flag = i
                break
            }
        }
        myChart.setOption(option)
    }

    function addnode() {
        option = myChart.getOption()
        let len = option.series[0].data.length
        let nodename = "节点" + (len + 1)
        let add = 100 + 200 * len
        option.series[0].data.push({name: nodename, id: len, x: 100, y: add})
        option.series[0].links.push({source: option.series[0].data[len - 1].id, target: len})
        myChart.setOption(option)
    }

    window.addEventListener('resize', myChart.resize);
</script>
<!--声音折线图-->
<script type="text/javascript">
    var dom = document.getElementById('sound');
    var mySound = echarts.init(dom, null, {
        renderer: 'canvas',
        useDirtyRect: false
    });
    var app = {};

    var option;

    option = {
        xAxis: {
            type: 'category',
            data: [],
        },
        yAxis: {
            type: 'value',
            min: -20000,
            max: 20000,
            axisLine: {
                show: true,
                symbol: ['none', 'arrow'],
                symbolSize: [5, 10],
                symbolOffset: [5, 10],
            },
            axisTick: {
                show: false,
                boundaryGap: true,
            },
            axisLabel: {
                show: false,
            },
            splitLine: {
                show: false,

            }
        },
        series: [
            {
                data: [745, 2214, 1329, -3887, -7945, -10317, -11105, -7620, -7484, -5627, 1474, 7540, 9285, 13409, 16251, 12821, 8292, 3039, -6560, -11431, -10332, -7695, -8529, -10642, -8932, -5692, 59, 5021, 6546, 3877, 5716, 10781, 13789, 11632, 3857, -2703, -1273, -105, -4411, -10488, -11527, -9455, -4244, -1602, -6761, -6796, 3402, 10863, 10120, 7961, 4675, 3746, 8067, 6808, -2624, -9022, -6743, -2685, -3014, -5245, -4075, -871, 1099, 4978, 6621, 2961, -155, 1468, 2205, -2874, -6722, -5594, -7218, -7342, -1698, 1422, 598, 2908, 5254, 5424, 3502, 1185, -1656, -1672, -512, -1084, 1267, 1633, -3583, -4634, -2050, -1982, -4107, -1647, 1133, 1151, 2157, 1196, -1415, -2334, 3066, 3264, -46, 1749, 2609, 1006, 5000, 6663, 618, -2835, -2667, -4122, -4492, -3154, -4772, -6856, -7332, -3274, 3153, 8323, 6537, 2804, 2311, 1673, 2627, 3973, 452, -6302, -6663, -2940, -1023, -1825, -997, -1316, -1204, 613, 4472, 5125, 8315, 8897, 3430, -4902, -10879, -10378, -6665, -4093, -6296, -3499, 1702, 6339, 8511, 7931, 3672, -313, 682, 3101, 284, -4566, -7285, -8312, -5634, -2114, 1301, 112, -613, -3687, -1809, -808, 383, 80, 1177, 2825, 6089, 12205, 12501, 6296, 1161, -1229, -3112, -2330, 437, 57, -3830, -5506, -7153, -6839, -8191, -5834, -2608, -3164, -2734, 2135, 6635, 5608, 7374, 7789, 7779, 6082, 5707, 2393, -1878, -1713, -516, -1547, -3490, -2756, -1461, 196, 1671, 3761, 921, -1881, -2962, -1552, -285, 1066, 1141, -47, -4518, -7109, -1966, 1716, 1728, 1343, 3946, 3134, 3608, 3453, 4310, 1208, 45, -1664, -4728, -8239, -4938, -34, 64, -3588, -6287, -4889, -1192, 5911, 7439, 4623, 1046, 3435, 5271, 6010, 4011, 1373, -1930, -3685, -1673, -1688, -3073, -4068, -3823, -4243, -2549, -3201, -5437, -6286, -2779, 878, 5251, 5603, 3291, 4102, 7548, 8369, 8436, 7284, 1745, -3676, -6277, -4721, -7455, -9083, -8251, -5365, -3830, -926, 2438, 5002, 6590, 7301, 6736, 4014, 1236, -1377, -4022, -5602, -7045, -8083, -2085, 2736, 3711, 5073, 7087, 5469, 1928, 2396, 776, -2742, -4509, -2360, -6149, -8532, -6601, -4624, -2702, -580, 2045, 5452, 6201, 6543, 7177, 6515, 5477, 3685, -386, -7032, -6784, -2540, -2721, -6575, -5048, -5218, -4984, 1476, 5423, 5215, 1524, -830, -2001, -636, 2345, 4204, 883, -1518, -1083, -767, -1512, 1037, 168, -1643, 333, 1828, 1811, 1386, 973, -2475, -2524, 386, 2092, 928, 1735, 2517, 2026, 894, -1019, -2948, -4436, -3962, 648, 3203, 332, -2115, -2582],
                type: 'line'
            }
        ]
    };

    if (option && typeof option === 'object') {
        mySound.setOption(option);
    }
    window.addEventListener('resize', mySound.resize);
</script>
<!--震动折线图-->
<script type="text/javascript">
    var dom = document.getElementById('shock');
    var myShock = echarts.init(dom, null, {
        renderer: 'canvas',
        useDirtyRect: false
    });
    var app = {};

    var option;

    option = {
        xAxis: {
            type: 'category',
            data: [],
        },
        yAxis: {
            type: 'value',
            min: -20000,
            max: 20000,
            axisLine: {
                show: true,
                symbol: ['none', 'arrow'],
                symbolSize: [5, 10],
                symbolOffset: [5, 10],
            },
            axisTick: {
                show: false,
                boundaryGap: true,
            },
            axisLabel: {
                show: false,
            },
            splitLine: {
                show: false,

            }
        },
        series: [
            {
                data: [745, 2214, 1329, -3887, -7945, -10317, -11105, -7620, -7484, -5627, 1474, 7540, 9285, 13409, 16251, 12821, -4721, -7455, -9083, -8251, -5365, -3830, -926, 2438, 5002, 6590, 7301, 6736, 4014, 1236, -1377, -4022, -5602, -7045, -8083, -2085, 2736, 3711, 5073, 7087, 5469, 1928, 2396, 776, -2742, -4509, -2360, -6149, -8532, -6601, -4624, -2702, -580, 2045, 5452, 6201, 6543, 7177, 6515, 5477, 3685, -386, -7032, -6784, -2540, -2721, -6575, -5048, -5218, -4984, 1476, 5423, 5215, 1524, -830, -2001, -636, 2345, 4204, 883, -1518, -1083, -767, -1512, 1037, 168, -1643, 333, 1828, 1811, 1386, 973, -2475, -2524, 386, 2092, 928, 1735, 2517, 2026, 894, -1019, -2948, -4436, -3962, 648, 3203, 332, -2115, -2582],
                type: 'line'
            }
        ]
    };

    if (option && typeof option === 'object') {
        myShock.setOption(option);
    }
    window.addEventListener('resize', myShock.resize);
</script>
<script type="text/javascript">
    function readTextFile(fileName) {
        var rawFile = new XMLHttpRequest();
        rawFile.open("GET", fileName, false);
        rawFile.onreadystatechange = function () {
            if (rawFile.readyState === 4) {
                if (rawFile.status === 200 || rawFile.status == 0) {
                    var allText = rawFile.responseText;
                    alert(allText);
                }
            }
        }
        rawFile.send(null);
    }

    function imgread(imgurl) {
        let img = new Image();
        img.src = imgurl;
    }
</script>
<!--footer-->
<style>

    .jizhan {
        width: 70px;
        height: 150px;
        display: block;
    }

    .computer {
        width: 100px;
    }

    .xuxian {
        width: 80px;
        /*display: block;*/
        position: relative;
        top: 60px;
    }

    .connectLine {
        padding-top: 30px;
    }
    .shan {
        -webkit-animation: twinkling 0.5s infinite ease-in-out
    }

    .animated {
        -webkit-animation-duration: 0.1s;
        animation-duration: 0.1s;
        -webkit-animation-fill-mode: both;
        animation-fill-mode: both
    }

    @-webkit-keyframes twinkling {
        0% {
            opacity: 0;
        }
        100% {
            opacity: 1;
        }
    }

    @keyframes twinkling {
        0% {
            opacity: 0;
        }
        100% {
            opacity: 1;
        }
    }
</style>

</body>
</html>